# BitCraft AI-Native Agent SDK — Architecture Document

## Table of Contents

- [BitCraft AI-Native Agent SDK — Architecture Document](#table-of-contents)
  - [1. Executive Summary](./1-executive-summary.md)
  - [2. Design Principles](./2-design-principles.md)
  - [3. System Context](./3-system-context.md)
    - [3.1 Boundary Definitions](./3-system-context.md#31-boundary-definitions)
  - [4. Data Flow](./4-data-flow.md)
    - [4.1 Write Path (Paid Actions)](./4-data-flow.md#41-write-path-paid-actions)
    - [4.2 Read Path (Free Observations)](./4-data-flow.md#42-read-path-free-observations)
    - [4.3 Sequence Diagram](./4-data-flow.md#43-sequence-diagram)
  - [5. Five-Layer Cognition Architecture](./5-five-layer-cognition-architecture.md)
    - [5.1 Plugin Interface Contract](./5-five-layer-cognition-architecture.md#51-plugin-interface-contract)
    - [5.2 Layer Interfaces](./5-five-layer-cognition-architecture.md#52-layer-interfaces)
  - [6. Agent Core Loop](./6-agent-core-loop.md)
  - [7. Crosstown Integration](./7-crosstown-integration.md)
    - [7.1 CrosstownClient Usage](./7-crosstown-integration.md#71-crosstownclient-usage)
    - [7.2 BLS Game Action Handler](./7-crosstown-integration.md#72-bls-game-action-handler)
  - [8. Action Cost Registry](./8-action-cost-registry.md)
  - [9. Experiment Harness](./9-experiment-harness.md)
    - [9.1 Experiment Configuration](./9-experiment-harness.md#91-experiment-configuration)
    - [9.2 Decision Logger](./9-experiment-harness.md#92-decision-logger)
    - [9.3 Snapshot & Restore](./9-experiment-harness.md#93-snapshot-restore)
  - [10. Project Structure](./10-project-structure.md)
  - [11. Docker Development Environment](./11-docker-development-environment.md)
    - [11.1 BitCraft Server Image](./11-docker-development-environment.md#111-bitcraft-server-image)
    - [11.2 Development Stack](./11-docker-development-environment.md#112-development-stack)
  - [12. Phased Implementation Plan](./12-phased-implementation-plan.md)
    - [Phase 1: Game Access Layer (Weeks 1–2)](./12-phased-implementation-plan.md#phase-1-game-access-layer-weeks-12)
    - [Phase 2: Cognition Plugin Framework (Weeks 3–4)](./12-phased-implementation-plan.md#phase-2-cognition-plugin-framework-weeks-34)
    - [Phase 3: Experiment Harness (Weeks 5–6)](./12-phased-implementation-plan.md#phase-3-experiment-harness-weeks-56)
    - [Phase 4: Polish & Advanced Features (Weeks 7–8)](./12-phased-implementation-plan.md#phase-4-polish-advanced-features-weeks-78)
  - [13. Technology Choices](./13-technology-choices.md)
  - [14. Licensing & Legal](./14-licensing-legal.md)
  - [15. Open Questions](./15-open-questions.md)
  - [16. Risks & Mitigations](./16-risks-mitigations.md)
  - [Project Context Analysis](./project-context-analysis.md)
    - [Requirements Overview](./project-context-analysis.md#requirements-overview)
    - [Technical Constraints & Dependencies](./project-context-analysis.md#technical-constraints-dependencies)
    - [Cross-Cutting Concerns Identified](./project-context-analysis.md#cross-cutting-concerns-identified)
    - [Architecture Refinement Focus Areas](./project-context-analysis.md#architecture-refinement-focus-areas)
  - [Starter Template & Technology Foundation](./starter-template-technology-foundation.md)
    - [Primary Technology Domain](./starter-template-technology-foundation.md#primary-technology-domain)
    - [Starter Options Considered](./starter-template-technology-foundation.md#starter-options-considered)
    - [Selected Approach: Manual Polyglot Workspace Initialization](./starter-template-technology-foundation.md#selected-approach-manual-polyglot-workspace-initialization)
    - [Verified Current Dependency Versions](./starter-template-technology-foundation.md#verified-current-dependency-versions)
    - [SpacetimeDB Version Strategy](./starter-template-technology-foundation.md#spacetimedb-version-strategy)
    - [TypeScript Workspace Initialization](./starter-template-technology-foundation.md#typescript-workspace-initialization)
    - [Rust Workspace Initialization](./starter-template-technology-foundation.md#rust-workspace-initialization)
    - [Architectural Decisions Provided by Tooling](./starter-template-technology-foundation.md#architectural-decisions-provided-by-tooling)
  - [Core Architectural Decisions](./core-architectural-decisions.md)
    - [Decision Priority Analysis](./core-architectural-decisions.md#decision-priority-analysis)
    - [Data Architecture](./core-architectural-decisions.md#data-architecture)
    - [Authentication & Security](./core-architectural-decisions.md#authentication-security)
    - [API & Communication Patterns](./core-architectural-decisions.md#api-communication-patterns)
    - [Client Package Architecture ()](./core-architectural-decisions.md#client-package-architecture)
    - [Frontend Architecture (Hybrid TUI)](./core-architectural-decisions.md#frontend-architecture-hybrid-tui)
    - [Headless Agent Mode](./core-architectural-decisions.md#headless-agent-mode)
    - [Infrastructure & Deployment](./core-architectural-decisions.md#infrastructure-deployment)
    - [Agent Configuration Architecture](./core-architectural-decisions.md#agent-configuration-architecture)
    - [Decision Impact Analysis](./core-architectural-decisions.md#decision-impact-analysis)
  - [Implementation Patterns & Consistency Rules](./implementation-patterns-consistency-rules.md)
    - [Pattern Categories Defined](./implementation-patterns-consistency-rules.md#pattern-categories-defined)
    - [Naming Patterns](./implementation-patterns-consistency-rules.md#naming-patterns)
    - [Structure Patterns](./implementation-patterns-consistency-rules.md#structure-patterns)
    - [Format Patterns](./implementation-patterns-consistency-rules.md#format-patterns)
    - [Communication Patterns](./implementation-patterns-consistency-rules.md#communication-patterns)
    - [Process Patterns](./implementation-patterns-consistency-rules.md#process-patterns)
    - [Enforcement Guidelines](./implementation-patterns-consistency-rules.md#enforcement-guidelines)
    - [Pattern Examples](./implementation-patterns-consistency-rules.md#pattern-examples)
  - [Project Structure & Boundaries](./project-structure-boundaries.md)
    - [Complete Project Directory Structure](./project-structure-boundaries.md#complete-project-directory-structure)
    - [Architectural Boundaries](./project-structure-boundaries.md#architectural-boundaries)
    - [Requirements to Structure Mapping](./project-structure-boundaries.md#requirements-to-structure-mapping)
    - [Cross-Cutting Concerns Mapping](./project-structure-boundaries.md#cross-cutting-concerns-mapping)
    - [Data Flow](./project-structure-boundaries.md#data-flow)
    - [Development Workflow](./project-structure-boundaries.md#development-workflow)
  - [Architecture Validation Results](./architecture-validation-results.md)
    - [Coherence Validation](./architecture-validation-results.md#coherence-validation)
    - [Requirements Coverage Validation](./architecture-validation-results.md#requirements-coverage-validation)
    - [Gap Analysis Results](./architecture-validation-results.md#gap-analysis-results)
    - [Architecture Completeness Checklist](./architecture-validation-results.md#architecture-completeness-checklist)
    - [Architecture Readiness Assessment](./architecture-validation-results.md#architecture-readiness-assessment)
    - [Implementation Handoff](./architecture-validation-results.md#implementation-handoff)
